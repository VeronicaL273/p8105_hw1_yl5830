---
title: "p8105_hw1_yl5830"
author: "Yunjia Liu"
date: "2024-09-21"
output: github_document
---

```{r setup, echo=FALSE, message=FALSE}
library(tidyverse)
library(ggplot2)
```

## Question1

### 1.Load the penguins dataset
```{r}
data("penguins", package = "palmerpenguins")
penguins_df <- penguins
```

### 2.Describe the penguins dataset
describe the dataset from several aspects, including the head of the dataframe using head() function, the size of the dataframe using nrow() & ncol().
In addition,calculate the mean of flipper_length_mm using mean() function.(Note: already exclude all the possible missing numbers in thr column of flipper_length_mm )

```{r}
head(penguins,5)

num_rows = nrow(penguins_df)
num_cols = ncol(penguins_df)
cat("The dataset has", num_rows, "rows and", num_cols, "columns.\n")


mean_flipper_length = mean(penguins_df$flipper_length_mm, na.rm = TRUE)
cat("The mean flipper length is", mean_flipper_length, "mm.\n")
```

### 3. Scatterplot of flipper_length_mm (y) vs bill_length_mm (x) with color points using the species variable
3.1 Remove rows with missing values to avoid errors in plotting
```{r}
penguins_df_clean = na.omit(penguins_df)

```
3.2 Draw the scatterplot of flipper_length_mm vs bill_length_mm
```{r}
scatterplot_flipper_bill = ggplot(penguins_df_clean, aes(x = bill_length_mm, y = flipper_length_mm, color = species)) +
  geom_point() +
  labs(x = "Bill Length (mm)", y = "Flipper Length (mm)", title = "Flipper Length vs Bill Length by Species") +
  theme_minimal()

print(scatterplot_flipper_bill)
```
3.3 Save the scatterplot
```{r}
ggsave(filename = "flipper_vs_bill_length_plot.png", plot = scatterplot_flipper_bill, width = 8, height = 6)
```


## Question2
1. Create the data frame

1.1 Setting seed for reproducibility and generate the several variables described as followed and combine into a dataframe.

- Random sample from standard normal distribution
- Logical vector indicating if the sample is greater than 0
- Character vector of length 10
- Factor vector with 3 levels
```{r}
set.seed(123)

random_sample = rnorm(10)
logical_vector = random_sample > 0
character_vector = letters[1:10] 
factor_vector <- factor(sample(c("Level1", "Level2", "Level3"), 10, replace = TRUE))

df <- data.frame(random_sample, logical_vector, character_vector, factor_vector)

```

1.2 Calculate the mean

Take the mean of each variable. However, not all of them will work because some variable types are not numeric. Mean of the character_vector and factor_vector cannot be calculated.
```{r}
mean_random_sample <- mean(df %>% pull(random_sample))
mean_logical_vector <- mean(df %>% pull(logical_vector))
mean_character_vector <- try(mean(df %>% pull(character_vector)), silent = TRUE)  # Expecting this to fail
mean_factor_vector <- try(mean(df %>% pull(factor_vector)), silent = TRUE)  # Expecting this to fail

cat("Mean of random sample:", mean_random_sample, "\n")
cat("Mean of logical vector:", mean_logical_vector, "\n")
cat("Mean of character vector (attempt):", mean_character_vector, "\n")
cat("Mean of factor vector (attempt):", mean_factor_vector, "\n")
```

As the results shown above, here's some conclusion:
random_sample: be able to take the mean since it's numeric.
logical_vector: the mean works because R treats logical values (TRUE, FALSE) as numeric (TRUE = 1, FALSE = 0).
character_vector: the mean will fail since you cannot calculate the mean of character data.
factor_vector: the mean will fail because factors are not inherently numeric, though internally they are stored as integer levels.


